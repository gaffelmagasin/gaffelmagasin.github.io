<!DOCTYPE html>
<html>
    <head>
        <title>KORSORD</title>
        <meta name="description" content="LÃ¶s korsord">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
          body{
            background: black;
            margin: 0px;
            padding: 0px;
          }
          .crossword-grid {
            display: grid;
            gap: 5px;
            margin: 20px auto;
            justify-content: center;
            align-items: center;
        }
        .cell {
            width: 30px;
            height: 30px;
            text-align: center;
            font-size: 20px;
            text-transform: uppercase;
        }
        .cell:focus {
            outline: none;
            border-color: blue;
        }
        .grid-container {
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
        }
        </style>
    </head>
    <body>

	<script src="https://www.w3schools.com/lib/w3.js"></script>
	<div w3-include-html="header.html"></div>
	<script>w3.includeHTML();</script>
	    
	<script src = "script_closed.js"></script>

    <div class="grid-container">
        <div id="crossword-container" class="crossword-grid"></div>
    </div>

    <script>
	var rot = 0
	    
        function generateGrid() {

	    const game_size = Math.min(600,0.9*innerWidth);
		
	    const gridSize = 10;
	    const cell_size = game_size / gridSize;
		
	    const crosswordContainer = document.getElementById("crossword-container");
            crosswordContainer.innerHTML = '';  // Clear any existing grid

            crosswordContainer.style.gridTemplateColumns = `repeat(${gridSize}, ${cell_size}px)`;
            crosswordContainer.style.gridTemplateRows = `repeat(${gridSize}, ${cell_size}px)`;

            for (let row = 0; row < gridSize; row++) {
                for (let col = 0; col < gridSize; col++) {
                    const inputCell = document.createElement("input");
                    inputCell.classList.add("cell");
		    inputCell.style.cssText = `width: ${cell_size}px; height: ${cell_size}px;`;
		    inputCell.id = `${col}-${row}`;
                    inputCell.maxLength = 1; // Restrict to a single character
                    inputCell.addEventListener("input", function(event) {
                        let value = event.target.value;
                        if (!/^[A-Za-z]$/.test(value)) {
                            event.target.value = ""; // Clear non-letter input
                        }
			else{
				var id_str = this.id;
				id_str = id_str.split("-");
				var xx = Number(id_str[0])
				var yy = Number(id_str[1])
	
				console.log(xx);
				console.log(yy);
				if(rot == 0){
					xx++
				}
				else{
					yy++
				}
				if(xx>=gridSize){xx-=gridSize}
				if(yy>=gridSize){yy-=gridSize}
				var new_id = String(xx) + "-" + String(yy);
				
				document.getElementById(new_id).focus();
			}
			
                    });
		    inputCell.addEventListener("focus", function(event){
   
		    });
		    inputCell.addEventListener("keydown", function(event){
   			console.log(event.key);
		    });
                    crosswordContainer.appendChild(inputCell);
                }
            }
        }

        // Generate grid on page load
        window.onload = generateGrid;

	
	
	
    </script>
    </body>
</html>
