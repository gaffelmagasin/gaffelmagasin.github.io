<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KORSORD</title>
  <style>
    svg {
      border: 1px solid #444;
      display: block;
      margin: 20px auto;
    }
    rect {
      stroke: #2c3e50;
    }
  </style>
</head>
<body>
  <div width = "600" height = "600">
    <svg id="svgGrid"></svg>
  </div>
  <script>
    var symbol_grid = [[1,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,1]]
    var enter_grid =  [["","","","",""],["","","","",""],["","","","",""],["","","","",""]]
    
    var cur_x = 0
    var cur_y = 0
    
    var cross_w = 600;
    var cross_h = 600;

    const svg = document.getElementById('svgGrid');

    svg.style.width = cross_w
    svg.style.height = cross_h
    
    // Grid settings
    const cols = 5;
    const rows = 5;
    const rectSize= cross_w/cols;

    for (let row = 0; row < rows; row++) {
      for (let col = 0; col < cols; col++) {
        const x = col * rectSize;
        const y = row * rectSize;

        const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");

        rect.id = col.toString() + "-" + row.toString()
        
        rect.setAttribute("x", x);
        rect.setAttribute("y", y);
        rect.setAttribute("width", rectSize);
        rect.setAttribute("height", rectSize);
        
        rect.setAttribute("pos_x",row)
        rect.setAttribute("pos_y",col)
        
        // Optional: Add custom attributes or interactivity
        rect.addEventListener("click", () => {

           cur_x = event.target.getAttribute('pos_x')
           cur_y = event.target.getAttribute('pos_y')

           update_puzzle()
        });

        
        const letter = document.createElementNS("http://www.w3.org/2000/svg", "text");
        letter.setAttribute("x", x + rectSize / 2);
        letter.setAttribute("y", y + rectSize / 2);
        letter.setAttribute("font-size", "24");
        letter.setAttribute("fill", "#000000");
        letter.textContent = "A";

        svg.appendChild(letter);
        svg.appendChild(rect);
      }
    }

    function update_puzzle(){
      for (let row = 0; row < rows; row++) {
        for (let col = 0; col < cols; col++) {
            var square_id = col.toString() + "-" + row.toString();
            var square = document.getElementById(square_id);

            if(cur_x == row && cur_y == col){
              square.setAttribute("fill","#888888")
            }
            else{
              square.setAttribute("fill", "#FFFFFF");
            }
        }
      }
    }
    
    update_puzzle()
    
  </script>
</body>
</html>
